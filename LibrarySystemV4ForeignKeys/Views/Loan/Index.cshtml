@model IEnumerable<LibrarySystemV4ForeignKeys.Models.Book>
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager


@{
    ViewData["Title"] = "Books";
}


<!-- ======= Hero Section ======= -->
<section id="hero" class="d-flex align-items-center">
    <div class="container" data-aos="zoom-out" data-aos-delay="100">
        <h1>All  <span>Books</span></h1>
        <h2>Below is  all books currently in the library</h2>
        <div class="d-flex">

        </div>
    </div>
</section><!-- End Hero -->


<main id="main">

    <!-- ======= Team Section ======= -->
    <section id="team" class="team section-bg">
        <div class="container" data-aos="fade-up">

            <div class="section-title">

                <h3>Our Books Available For  <span>Loan</span></h3>
                <p>
                    Here is all our books available for loanssss
                </p>


            </div>

            <div class="row">

                @foreach (var item in Model)
                {

                    <div class="col-lg-3 col-md-6 d-flex align-items-stretch" data-aos="fade-up" data-aos-delay="400">
                        <div class="member">
                            <div class="member-img">
                                <img src="@("~/image/"+item.ImageName)" asp-append-version="true" width="300" height="250" />
                               
                            </div>
                            <div class="member-info">
                                <h4> @Html.DisplayFor(modelItem => item.bookName) </h4>
                                <span> @Html.DisplayFor(modelItem => item.author) </span>




                                @{


                                    String username = SignInManager.UserManager.GetUserName(User);

                                }

                              

                            <a class="btn btn-primary"
                               asp-controller="ShoppingCart"
                               asp-action="AddToShoppingCart"
                               asp-route-Id="@item.id">Add to Cart</a> |
                                    <a asp-controller="Loan" asp-action="TakeLoan" asp-route-username="@username" asp-route-bookId="@item.id">Take On Loan</a> |

                                

                                
                            


                            </div>
                        </div>
                    </div>

                
                }

        </div>
    </section><!-- End Team Section -->



</main><!-- End #main -->